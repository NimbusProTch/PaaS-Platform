# Nginx Helm Values Template
# Generated by InfraForge

replicaCount: 1

image:
  registry: docker.io
  repository: bitnami/nginx
  tag: 1.25.3-debian-11-r1

service:
  type: ClusterIP
  ports:
    http: 80
    https: 443

ingress:
  enabled: <no value>
  pathType: Prefix
  hostname: nginx-finance-dev.local
  ingressClassName: nginx
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
  tls: false

resources:
  limits:
    cpu: 100m
    memory: 128Mi
  requests:
    cpu: 50m
    memory: 64Mi

autoscaling:
  enabled: <no value>
  minReplicas: <no value>
  maxReplicas: <no value>
  targetCPU: 80
  targetMemory: 80

# Health checks
livenessProbe:
  enabled: true
  initialDelaySeconds: 30
  periodSeconds: 10
  timeoutSeconds: 5
  successThreshold: 1
  failureThreshold: 3

readinessProbe:
  enabled: true
  initialDelaySeconds: 5
  periodSeconds: 5
  timeoutSeconds: 3
  successThreshold: 1
  failureThreshold: 3

# Custom nginx configuration
serverBlock: |-
  server {
    listen 8080;
    server_name _;
    
    location / {
      return 200 "Nginx running for finance in dev environment\n";
      add_header Content-Type text/plain;
    }
    
    location /health {
      return 200 "OK";
      add_header Content-Type text/plain;
    }
  }