# PostgreSQL Non-Production Configuration
# Single instance, basic monitoring, no backup

# Cluster naming
clusterName: demo-postgresql
namespace: demo-dev

# PostgreSQL version
postgresVersion: "16.1"

# Instance configuration
replicas: 1

# Tenant and environment (will be injected by generator)
tenant: demo
environment: dev

# Storage configuration
storage:
  size: "10Gi"
  storageClass: "standard"

# Resource limits (nonprod - minimal)
resources:
  requests:
    cpu: "500m"
    memory: "1Gi"
  limits:
    cpu: "2000m"
    memory: "4Gi"

# PostgreSQL parameters (basic nonprod config)
postgresql:
  parameters:
    max_connections: "100"
    shared_buffers: "256MB"
    effective_cache_size: "768MB"
    maintenance_work_mem: "64MB"
    checkpoint_completion_target: "0.7"
    wal_buffers: "8MB"
    default_statistics_target: "100"
    random_page_cost: "4"
    effective_io_concurrency: "2"
    min_wal_size: "1GB"
    max_wal_size: "2GB"

# Bootstrap configuration
bootstrap:
  initdb:
    database: app
    owner: app

# High availability (disabled for nonprod)
highAvailability:
  enabled: false
  primaryUpdateStrategy: unsupervised
  affinity:
    topologyKey: kubernetes.io/hostname
    podAntiAffinityType: preferred
  synchronousReplication:
    enabled: false

# Backup (disabled for nonprod)
backup:
  enabled: false

# Connection pooler (disabled for nonprod)
pooler:
  enabled: false

# Monitoring (basic)
monitoring:
  enabled: false
  prometheusRule:
    enabled: false
